# –¢–µ–º–∞ Django. MTV. –ó–Ω–∞–∫–æ–º—Å—Ç–≤–æ —Å –®–∞–±–ª–æ–Ω–∏–∑–∞—Ç–æ—Ä–æ–º –∏ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–µ–π. –£—Ä–æ–∫ 51 üöÄ

## –ú–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è –≤ Django: –≥–¥–µ –Ω–∞—Ö–æ–¥—è—Ç—Å—è URLs –∏ –∫–∞–∫ —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ–Ω–≤–µ—Ä—Ç–µ—Ä—ã –ø—É—Ç–µ–π üîó

–ú–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è –≤ Django - —ç—Ç–æ –ø—Ä–æ—Ü–µ—Å—Å –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Ç–æ–≥–æ, –∫–∞–∫ URL-–∞–¥—Ä–µ—Å–∞ —Å–æ–ø–æ—Å—Ç–∞–≤–ª—è—é—Ç—Å—è —Å –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è–º–∏. –í Django –º–∞—Ä—à—Ä—É—Ç—ã –æ–ø—Ä–µ–¥–µ–ª—è—é—Ç—Å—è –≤ —Ñ–∞–π–ª–µ `urls.py` —Å –ø–æ–º–æ—â—å—é —Å–ø–∏—Å–∫–∞ `urlpatterns`. 

–ö–æ–Ω–≤–µ—Ä—Ç–µ—Ä—ã –ø—É—Ç–µ–π - —ç—Ç–æ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª–∏, –∫–æ—Ç–æ—Ä—ã–µ –ø–æ–∑–≤–æ–ª—è—é—Ç –∏–∑–≤–ª–µ–∫–∞—Ç—å –∑–Ω–∞—á–µ–Ω–∏—è –∏–∑ URL –∏ –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å –∏—Ö –≤ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è –≤ –Ω—É–∂–Ω–æ–º —Ñ–æ—Ä–º–∞—Ç–µ. –û–Ω–∏ —É–∫–∞–∑—ã–≤–∞—é—Ç—Å—è –≤ —É–≥–ª–æ–≤—ã—Ö —Å–∫–æ–±–∫–∞—Ö `<>` –∫–∞–∫ —á–∞—Å—Ç—å —à–∞–±–ª–æ–Ω–∞ URL.

>[!info]
>#### –°–∏–Ω—Ç–∞–∫—Å–∏—Å –∫–æ–Ω–≤–µ—Ä—Ç–µ—Ä–æ–≤ –ø—É—Ç–µ–π ‚öôÔ∏è
>–°–∏–Ω—Ç–∞–∫—Å–∏—Å –∫–æ–Ω–≤–µ—Ä—Ç–µ—Ä–æ–≤ –∏–º–µ–µ—Ç –≤–∏–¥: `<—Ç–∏–ø:–∏–º—è_–ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π>`. –ù–∞–ø—Ä–∏–º–µ—Ä, `<int:order_id>` –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ Django –æ–∂–∏–¥–∞–µ—Ç —Ü–µ–ª–æ–µ —á–∏—Å–ª–æ –∏ —Å–æ—Ö—Ä–∞–Ω–∏—Ç –µ–≥–æ –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π `order_id`.

### –ö–∞–∫–∏–µ —Ç–∏–ø—ã –∫–æ–Ω–≤–µ—Ä—Ç–µ—Ä–æ–≤ —Å—É—â–µ—Å—Ç–≤—É—é—Ç üìã

Django –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã—Ö –∫–æ–Ω–≤–µ—Ä—Ç–µ—Ä–æ–≤ –ø—É—Ç–µ–π:

| –ö–æ–Ω–≤–µ—Ä—Ç–µ—Ä | –ü—Ä–∏–º–µ—Ä | –ó–Ω–∞—á–µ–Ω–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π | –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å |
|-----------|--------|---------------------|--------------------|
| `int` | `orders/<int:order_id>/` | –¶–µ–ª–æ–µ —á–∏—Å–ª–æ | –î–ª—è —á–∏—Å–ª–æ–≤—ã—Ö –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä–æ–≤ |
| `str` | `orders/<str:order_str>/` | –°—Ç—Ä–æ–∫–∞ (–±–µ–∑ /) | –î–ª—è —Ç–µ–∫—Å—Ç–æ–≤—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ |
| `slug` | `orders/<slug:order_slug>/` | –°—Ç—Ä–æ–∫–∞ –≤ —Ñ–æ—Ä–º–∞—Ç–µ slug | –î–ª—è –ß–ü–£-—Å—Å—ã–ª–æ–∫ |
| `uuid` | `orders/<uuid:order_uuid>/` | UUID | –î–ª—è —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä–æ–≤ |
| `path` | `files/<path:file_path>/` | –°—Ç—Ä–æ–∫–∞ —Å / | –î–ª—è –ø—É—Ç–µ–π –∫ —Ñ–∞–π–ª–∞–º |

–ö–æ–Ω–≤–µ—Ä—Ç–µ—Ä `path` –æ—Å–æ–±–µ–Ω–Ω–æ –ø–æ–ª–µ–∑–µ–Ω –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —Ñ–∞–π–ª–æ–≤—ã–º–∏ –ø—É—Ç—è–º–∏. –ù–∞–ø—Ä–∏–º–µ—Ä, –¥–ª—è URL `files/anekdoty/GPT/obezianka/` –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è `file_path` –ø–æ–ª—É—á–∏—Ç –∑–Ω–∞—á–µ–Ω–∏–µ `"anekdoty/GPT/obezianka/"`.

## –°–æ–∑–¥–∞–Ω–∏–µ –º–∞—Ä—à—Ä—É—Ç–æ–≤ –≤ –Ω–∞—à–µ–º –ø—Ä–æ–µ–∫—Ç–µ üõ†Ô∏è

–í Django –º–∞—Ä—à—Ä—É—Ç—ã –æ–ø—Ä–µ–¥–µ–ª—è—é—Ç—Å—è –≤ —Ñ–∞–π–ª–µ `urls.py` —Å –ø–æ–º–æ—â—å—é —Ñ—É–Ω–∫—Ü–∏–∏ `path()`:

```python
from django.contrib import admin
from django.urls import path
from core.views import landing, thanks, orders_list, order_detail

urlpatterns = [
    path("admin/", admin.site.urls),
    path("", landing),
    path("thanks/", thanks),
    path("orders/", orders_list),
    path("orders/<int:order_id>/", order_detail),
]
```

–î–ª—è –≥–ª–∞–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã —Å–ª–µ—à –Ω–µ —Å—Ç–∞–≤–∏—Ç—Å—è, —Ç–∞–∫ –∫–∞–∫ —ç—Ç–æ –∫–æ—Ä–Ω–µ–≤–æ–π URL. –î–ª—è –≤—Å–µ—Ö –æ—Å—Ç–∞–ª—å–Ω—ã—Ö –º–∞—Ä—à—Ä—É—Ç–æ–≤ —Å–ª–µ—à–∏ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã - —ç—Ç–æ —Å–æ–≥–ª–∞—à–µ–Ω–∏–µ Django –¥–ª—è –µ–¥–∏–Ω–æ–æ–±—Ä–∞–∑–∏—è URL-—Å—Ç—Ä—É–∫—Ç—É—Ä—ã.

>[!warning]
>#### –ï–¥–∏–Ω—ã–π —Å—Ç–∏–ª—å –º–∞—Ä—à—Ä—É—Ç–æ–≤ ‚ö†Ô∏è
>–í–∞–∂–Ω–æ —Å–æ–±–ª—é–¥–∞—Ç—å –µ–¥–∏–Ω—ã–π —Å—Ç–∏–ª—å –≤ –Ω–∞–ø–∏—Å–∞–Ω–∏–∏ URL:
>- –í—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–ª–µ—à–∏ –≤ –∫–æ–Ω—Ü–µ –¥–ª—è –≤–ª–æ–∂–µ–Ω–Ω—ã—Ö –º–∞—Ä—à—Ä—É—Ç–æ–≤
>- –ü—Ä–∏–¥–µ—Ä–∂–∏–≤–∞–π—Ç–µ—Å—å –µ–¥–∏–Ω–æ–≥–æ —Å—Ç–∏–ª—è –∏–º–µ–Ω–æ–≤–∞–Ω–∏—è (snake_case –∏–ª–∏ kebab-case)
>- –ò–∑–±–µ–≥–∞–π—Ç–µ —Å–º–µ—à–µ–Ω–∏—è —Ä–∞–∑–Ω—ã—Ö —Å—Ç–∏–ª–µ–π –≤ –æ–¥–Ω–æ–º –ø—Ä–æ–µ–∫—Ç–µ

### –ö–∞–∫ —Ä–∞–±–æ—Ç–∞—é—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –≤ –ø—É—Ç—è—Ö? üîç

–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –≤ –ø—É—Ç—è—Ö, —Ç–∞–∫–∏–µ –∫–∞–∫ `order_id`, –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è –≤ —Ñ—É–Ω–∫—Ü–∏—é –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è –∫–∞–∫ –∏–º–µ–Ω–æ–≤–∞–Ω–Ω—ã–µ –∞—Ä–≥—É–º–µ–Ω—Ç—ã. –§—É–Ω–∫—Ü–∏—è `order_detail` –ø—Ä–∏–Ω–∏–º–∞–µ—Ç —ç—Ç–æ—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä –∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –µ–≥–æ –¥–ª—è –ø–æ–∏—Å–∫–∞ –∑–∞–∫–∞–∑–∞:

```python
def order_detail(request, order_id):
    """
    –û—Ç–≤–µ—á–∞–µ—Ç –∑–∞ –º–∞—Ä—à—Ä—É—Ç 'orders/<int:order_id>/'
    :param request: HttpRequest
    :param order_id: int (–Ω–æ–º–µ—Ä –∑–∞–∫–∞–∑–∞)
    """
    return HttpResponse(f"<h1>–î–µ—Ç–∞–ª–∏ –∑–∞–∫–∞–∑–∞ {order_id}</h1>")
```

![order_detail_int_converter.png](./images/order_detail_int_converter.png)

–ù–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–∏ –ø–æ–∫–∞–∑–∞–Ω–æ, –∫–∞–∫ Django –ø—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç —á–∞—Å—Ç—å URL –≤ —Ü–µ–ª–æ–µ —á–∏—Å–ª–æ –∏ –ø–µ—Ä–µ–¥–∞–µ—Ç –µ–≥–æ –≤ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ. –ü–æ–¥ –∫–∞–ø–æ—Ç–æ–º Django –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Ä–µ–≥—É–ª—è—Ä–Ω—ã–µ –≤—ã—Ä–∞–∂–µ–Ω–∏—è –¥–ª—è –∏–∑–≤–ª–µ—á–µ–Ω–∏—è –∏ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è –∑–Ω–∞—á–µ–Ω–∏–π.

### –ú–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏—è `order_detail` üõ†Ô∏è

–ú—ã –¥–æ–±–∞–≤–∏–ª–∏ –¥–∞—Ç–∞—Å–µ—Ç –≤ `core/data.py` –∏ —Ç–µ–ø–µ—Ä—å –º–æ–∂–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –µ–≥–æ –¥–ª—è –ø–æ–∏—Å–∫–∞ –∑–∞–∫–∞–∑–∞ –ø–æ `order_id`. –í–æ—Ç –∫–∞–∫ –≤—ã–≥–ª—è–¥–∏—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è:

```python
from .data import orders

def order_detail(request, order_id):
    """
    –û—Ç–≤–µ—á–∞–µ—Ç –∑–∞ –º–∞—Ä—à—Ä—É—Ç 'orders/<int:order_id>/'
    :param request: HttpRequest
    :param order_id: int (–Ω–æ–º–µ—Ä –∑–∞–∫–∞–∑–∞)
    """
    order = [order for order in orders if order["id"] == order_id]
    try:
        order = order[0]
    
    except IndexError:
        return HttpResponse("<h1>–ó–∞–∫–∞–∑ –Ω–µ –Ω–∞–π–¥–µ–Ω</h1>", status=404)
    
    else:
        order_data = f"""<h1>–ó–∞–∫–∞–∑ {order["id"]}</h1><p>–ö–ª–∏–µ–Ω—Ç: {order["client_name"]}</p>"""
        return HttpResponse(order_data)
```

–§—É–Ω–∫—Ü–∏—è —Ç–µ–ø–µ—Ä—å –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –Ω–∞–ª–∏—á–∏–µ –∑–∞–∫–∞–∑–∞ –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç 404, –µ—Å–ª–∏ –∑–∞–∫–∞–∑ –Ω–µ –Ω–∞–π–¥–µ–Ω. –û–¥–Ω–∞–∫–æ —Å–æ–∑–¥–∞–Ω–∏–µ HTML –≤ –∫–æ–¥–µ - –ø–ª–æ—Ö–∞—è –ø—Ä–∞–∫—Ç–∏–∫–∞. –≠—Ç–æ –ø—Ä–∏–≤–æ–¥–∏—Ç –∫:

1. –°–ª–æ–∂–Ω–æ—Å—Ç–∏ –ø–æ–¥–¥–µ—Ä–∂–∫–∏
2. –ü—Ä–æ–±–ª–µ–º–∞–º —Å –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å—é
3. –¢—Ä—É–¥–Ω–æ—Å—Ç—è–º —Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è –ª–æ–≥–∏–∫–∏ –∏ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è

>[!info]
>#### –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã —Å HTML üé®
>–®–∞–±–ª–æ–Ω–∏–∑–∞—Ç–æ—Ä Django —Ä–µ—à–∞–µ—Ç —ç—Ç–∏ –ø—Ä–æ–±–ª–µ–º—ã, –ø–æ–∑–≤–æ–ª—è—è:
>- –†–∞–∑–¥–µ–ª—è—Ç—å –ª–æ–≥–∏–∫—É –∏ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ
>- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ —à–∞–±–ª–æ–Ω–æ–≤
>- –ü—Ä–∏–º–µ–Ω—è—Ç—å —Ñ–∏–ª—å—Ç—Ä—ã –∏ —Ç–µ–≥–∏ –¥–ª—è —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
>- –û–±–µ—Å–ø–µ—á–∏–≤–∞—Ç—å –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å —á–µ—Ä–µ–∑ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —ç–∫—Ä–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ

–í —Å–ª–µ–¥—É—é—â–µ–π –≤–µ—Ä—Å–∏–∏ –º—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º —à–∞–±–ª–æ–Ω–∏–∑–∞—Ç–æ—Ä, –ø–µ—Ä–µ–¥–∞–≤–∞—è –¥–∞–Ω–Ω—ã–µ –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ:

```python
def order_detail(request, order_id):
    order = [order for order in orders if order["id"] == order_id]
    try:
        order = order[0]
        context = {
            "order": order,
            "my_variable": "Hello, world!",
        }
    except IndexError:
        return HttpResponse("<h1>–ó–∞–∫–∞–∑ –Ω–µ –Ω–∞–π–¥–µ–Ω</h1>", status=404)
    else:
        return render(request, "order_detail.html", context=context)
